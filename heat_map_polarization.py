import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd
#from phase_transition import run_for_10_etas

#initialize matrix to store vectors with final polarization for different etas for m simulations
#m=25
#polarization_matrix=np.zeros((m,11))
#
#for l in range(m):
#    polarization_matrix[l]=run_for_10_etas()

matrix=np.array([[0.99970628, 0.96841289, 0.55517857, 0.49611566, 0.12044892, 0.1013488,
  0.15905659, 0.09622655, 0.22862467, 0.02830428, 0.08743157],
 [0.90372935, 0.92314315, 0.8664583 , 0.35573152, 0.09906528, 0.3259119,
  0.10939246, 0.01825312, 0.28537014, 0.03848476, 0.1389177],
 [0.89785632, 0.93393378, 0.84936645, 0.67574802, 0.08702471, 0.14001081,
  0.02614557, 0.14096975, 0.11833186, 0.07640067, 0.05701925],
 [0.58577725, 0.67601298, 0.72778317, 0.37833759, 0.15132692, 0.09837268,
  0.32301916, 0.17099709, 0.10041793, 0.05499343, 0.02022273],
 [0.79990976, 0.92288846, 0.57002721, 0.69483439, 0.4168469 , 0.26830987,
  0.06460578, 0.16909299, 0.14354574, 0.19689747, 0.09572603],
 [0.99893994, 0.91150289, 0.77214003, 0.15312777, 0.09193774, 0.26999967,
  0.121337  , 0.21389953, 0.1480382 , 0.07816325, 0.06315388],
 [0.97744907, 0.95462212, 0.82595087, 0.54841783, 0.49429246, 0.06070272,
  0.33336199, 0.05394509, 0.1481062 , 0.03123754, 0.05734511],
 [0.94579439, 0.92394517, 0.8937025 , 0.57543886, 0.29570939, 0.21210894,
  0.24902028, 0.07849631, 0.23970655, 0.1465171 , 0.08764336],
 [0.99981342, 0.95875428, 0.69251061, 0.59216191, 0.33859184, 0.29943557,
  0.09436132, 0.10322173, 0.09973833, 0.15875769, 0.07228685],
 [0.99755027, 0.95971575, 0.85211775, 0.36550196, 0.24202906, 0.30507196,
  0.10440955, 0.18029508, 0.17663753, 0.0548341 , 0.15601448],
 [0.99934999, 0.94888275, 0.85684205, 0.56145224, 0.41913619, 0.18742146,
  0.05331811, 0.07073031, 0.0225577 , 0.02272388, 0.11338654],
 [0.9994193 , 0.94760985, 0.77074228, 0.37062828, 0.3499595 , 0.37019307,
  0.39522052, 0.03273604, 0.10793258, 0.11449538, 0.17231185],
 [0.99908447, 0.95939694, 0.77488092, 0.54831514, 0.21864808, 0.26861968,
  0.09815708, 0.13336513, 0.14692992, 0.15072551, 0.06392495],
 [0.99635797, 0.96480621, 0.7679919 , 0.69669583, 0.10600397, 0.172644,
  0.19711074, 0.14749843, 0.05032466, 0.11186308, 0.07377503],
 [0.99960297, 0.80647486, 0.82270352, 0.75068537, 0.29992779, 0.20161541,
  0.22975369, 0.11105697, 0.16317723, 0.0470621 , 0.12753206],
 [0.97857028, 0.9744394 , 0.75765463, 0.57001997, 0.25505082, 0.19562832,
  0.24302174, 0.11287969, 0.15538154, 0.0937594 , 0.06146072],
 [0.99932887, 0.94724494, 0.79194766, 0.65263915, 0.39538623, 0.32415574,
  0.0849736 , 0.07192028, 0.15954264, 0.13828602, 0.08563799],
 [0.99436994, 0.96691339, 0.76759115, 0.3473797 , 0.06181309, 0.13573175,
  0.08274437, 0.07755333, 0.08811712, 0.15283425, 0.11947598],
 [0.97276882, 0.92347048, 0.92561554, 0.38355787, 0.165058  , 0.25715658,
  0.16418923, 0.08589516, 0.06707282, 0.04683973, 0.02595649],
 [0.96456094, 0.96491371, 0.5758307 , 0.46317974, 0.38912848, 0.14648256,
  0.19917268, 0.08077166, 0.0361293 , 0.14437385, 0.13503595],
 [0.98777123, 0.8709228 , 0.70543703, 0.3074478 , 0.54007622, 0.28617912,
  0.24390275, 0.1244195 , 0.17606251, 0.0692586 , 0.11537742],
 [0.89860675, 0.93245876, 0.72211166, 0.39958486, 0.27603079, 0.40143387,
  0.20546235, 0.07272128, 0.10369398, 0.12835293, 0.13429751],
 [0.98882388, 0.96157958, 0.81105764, 0.52413516, 0.36568983, 0.3113563,
  0.18703558, 0.17026472, 0.08186284, 0.08660109, 0.19200811],
 [0.99182742, 0.95175402, 0.79980954, 0.65432094, 0.42017042, 0.12817441,
  0.02880867, 0.10130622, 0.10871619, 0.09556538, 0.10701107],
 [0.98146422, 0.88395699, 0.82964498, 0.31095904, 0.28129847, 0.26872855,
  0.16892506, 0.13801353, 0.14457071, 0.14882513, 0.02274479]])



X=np.repeat(np.arange(0.0,1.1,0.1),25)
y=list([row for row in matrix])
Y=[item for sublist in y for item in sublist]

# Plot heatmap
plt.figure()
plt.hist2d(X, Y)
plt.xlabel('$eta$')
plt.ylabel('Final polarization')
plt.colorbar()
plt.tight_layout()
plt.show()

